package bunnymark;import flash.display.Sprite;import flash.events.Event;import flash.system.System;import flash.text.TextField;import flash.text.TextFormat;import flash.Lib;import flash.Vector;class Fps extends Sprite{    private var fpsTxt:TextField;    private var memTxt:TextField;    private var oldTime:Int = 0;    private var newTime:Int = 0;    private var fpsList:Vector <Float>;    function new()    {        super();        mouseChildren = false;        mouseEnabled = false;        fpsTxt = new TextField();        memTxt = new TextField();        fpsTxt.width = 90;        memTxt.width = 90;        addChild(fpsTxt);        fpsTxt.y = -2;        addChild(memTxt);        memTxt.y = 8;        graphics.beginFill(0x000000, 0.8);        graphics.drawRect(0, 0, 90, 24);        graphics.endFill();        fpsTxt.defaultTextFormat = new TextFormat("Arial", 10, 0xFFFFFF, true);        memTxt.defaultTextFormat = new TextFormat("Arial", 10, 0xFFFFFF, true);        fpsList = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];        addEventListener(Event.ENTER_FRAME, this_onEnterFrame);    }    private function this_onEnterFrame(event:Event):Void    {        oldTime = newTime;        newTime = Lib.getTimer();        var fps:Float = 1000 / (newTime - oldTime);        fpsList.unshift(fps);        fpsList.pop();        var total:Float = 0;        var i:Int = 0;        var l:Int = fpsList.length;        while (i < l) {            total += fpsList[i];            i++;        }        var realFps:Int = Math.round(total / 20);        fpsTxt.text = "FPS: " + realFps + " / " + stage.frameRate;        memTxt.text = "M: " + (System.totalMemory / 1048576);    }}